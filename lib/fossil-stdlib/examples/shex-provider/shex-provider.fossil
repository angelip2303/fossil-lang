type PersonData = csv!("lib/fossil-stdlib/examples/shex-provider/people.csv")
type Person = shex!("lib/fossil-stdlib/examples/shex-provider/person.shex", shape: "PersonShape")

let csv_to_rdf = fn(row) -> {
    Person(row.name, row.age, row.name)
        |> Entity::with_id("http://example.com/person/${row.name}")
}

PersonData::load()
|> List::map(csv_to_rdf)
|> Rdf::serialize("lib/fossil-stdlib/examples/shex-provider/results.ttl")
