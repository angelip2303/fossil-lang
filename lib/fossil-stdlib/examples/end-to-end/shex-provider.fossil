const ROOT = "lib/fossil-stdlib/examples/shex-provider"

type PersonData = csv!("${ROOT}/people.csv")
type Person = shex!("${ROOT}/person.shex", shape: "PersonShape")

PersonData::load()
|> map(fn(row) ->
    Person {
        @id = "http://example.com/person/${row.email}",
        name = row.name,
        age = row.age,
    }
)
|> Rdf::serialize("results.ttl")
